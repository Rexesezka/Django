{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Map Master</title>
	<link rel="stylesheet" href="{% static 'css/style.css'%}" type="text/css">
	<script src="{% static 'js/OnClickButtons.js' %}"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<!-- Начало сектора интро -->
	<script src="https://api-maps.yandex.ru/2.1/?apikey=ваш API-ключ&lang=ru_RU"></script>
	<script>
    function init(){
      let map = new ymaps.Map('map', {
        center: [56.838011, 60.597474],
        zoom: 17
      });


      window.selectChanged = function(theSelect) {
      	var selectedValue = theSelect.options[theSelect.selectedIndex].value.split('+');
      	var x = parseFloat(selectedValue[2]);
      	var y = parseFloat(selectedValue[3]);
		map.setCenter([x,y]);
		//сюда любой html, css код сувать можно, работа фронта,
		var placemark = new ymaps.Placemark([x,y], {
			balloonContentHeader: selectedValue[1],
			balloonContentBody: selectedValue[0],
			balloonContentFooter : 'Подвал',
		}, {
			iconLayout: 'default#image',
			iconImageHref: 'https://cdn-icons-png.flaticon.com/512/9805/9805283.png',
			iconImageSize: [100, 100],
			iconImageOffset: [-19, -44]
		});
		map.geoObjects.add(placemark);
      };
    }
    ymaps.ready(init);
  </script>
	<main class="main">
		<section class="intro">

<!-- начало header -->
			<header class="header">
				<div class="wrapper">
					<div class="header-wrapper">
						<div class="header-logo">
							<a href="mainpage.html" class="header-logo-link">
								<img src="{% static 'img/svg/logo.svg'%}" class="header-logo-pic">
							</a>
						</div>

						<nav class="header">
							<ul class="header-list">
								<li class="header-item">
									<a href='#' class="header-link">КАРТА</a>
								</li>
								<li class="header-item">
									<a href='#' class="header-link">О НАС</a>
								</li>
								<li class="header-item">
									<a href='#' class="header-link">КОНТАКТЫ</a>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</header>
<!-- Конец header -->

			<div class="wrapper">
				<h1 class="intro-title-1">
					MAP
				</h1>
				<h1 class="intro-title-2">
					MASTER
				</h1>
				<p class="text-intro">
					Погрузитесь в мир увлекательных путешествий с нашей инновационной интерактивной картой. Откройте для себя уникальные маршруты, познакомьтесь с местными обычаями и создайте свою историю на карте мира.
				</p>
			</div>
		</section>

<!-- Конец сектора интро -->

<!-- Начало сектора Путешествия -->
		<section class="travel">
			<div class="wrapper">
				<h2 class="travel-title">
					ПУТЕШЕСТВИЯ
				</h2>
				<p class="travel-text1">
					Путешествие  -  это ключ к новым эмоциям и впечатлениям! Отдохните от повседневной рутины, зарядитесь энергией и вдохновением, познавая мир. Откройте для себя новые вкусы, ароматы и звуки, станьте настоящим исследователем!
				</p>
				<p class="travel-text2">
					У каждого маршрута есть описание, а удобный интерфейс карты поможет сделать Вашу поездку незабываемой. Доверьтесь нам и наслаждайтесь каждым моментом!
				</p>
			</div>
		</section>
<!-- Конец сектора Путешествия -->

<!-- Начало сектора Карта -->

		<section class="map">
			<div class="wrapper">
				<h2 class="map-title">
					ПОСТРОЙ СВОЙ МАРШРУТ
				</h2>
				<div class="marh">
					<div class="road-map" id="map"></div>
					<button class="button-category" onclick="ButtonCategory()">
						категория маршрута
					</button>

					<button class="button-city" onclick="ButtonCity()">
						город и область
					</button>

					<select id="selector" onkeyup="this.onchange();"  onchange="selectChanged(this);">
						<option selected disabled="true">готовые маршруты</option>
						{% for result in data %}
						<option value="{{result.fields.description}}+{{result.fields.headline}}+{{result.fields.xCoords}}+{{result.fields.yCoords}}">{{result.fields.headline}}</option>
						{% endfor %}
					</select>

					<button class="button-build" onclick="ButtonBuild()">
						ПОСТРОИТЬ
					</button>
				</div>
			</div>
		</section>

<!-- Конец сектора Карта -->

		<section class="void"></section>

		<section class="contacts">
			<h class="contacts">
				Контакты
			</h>
			<p class="Tim">
				Солдатов Тимофей<br /> тимлид
			</p>
			<p class="Vlad">
				Чумейко Владислав<br /> front-end разработчик
			</p>
			<p class="Alex">
				Балабух Александр<br /> дизайнер
			</p>
			<p class="Maks">
				Кедров Максим<br /> back-end разработчик
			</p>
			<p class="nomer">
				89126649950
			</p>
			<p class="mail">
				mapmaster268@gmail.com
			</p>
		</section>
	</main>
</body>
</html>